% !TEX TS-program = xelatex

% DOCUMENT TYPE
\documentclass{book}

% URL INSERTION PACKAGE
\usepackage{hyperref}

% PERSIAN (FARSI) SUPPORT PACKAGE
\usepackage{xepersian} 

% SET DOCUEMNT FONT
\settextfont{Times New Roman}


% BEGGINING OF THE DOCUEMENT
\begin{document}


% PAGE 1: BOOK'S INFORMATION
\begin{center}
	\textbf{لینوکس از صفر} \\ 
نسخه ۳.۱۲ \\ 	
منتشر شده در ۱۳ فوریه ۲۰۲۵ \\ 	
ایجاد شده توسط Beekmans Gerard \\ 	
ویرایشگر ارشد: Dubbs Bruce \\ 	
\end{center}


% PAGE 2: COPYRIGHT NOTICE
\newpage

\begin{center}
حق نشر © ۱۹۹۹-۲۰۲۵ Beekmans Gerard \\	
تمامی حقوق محفوظ است. \\ 	
این کتاب تحت مجوز Commons Creative منتشر شده است. \\ 	
دستورالعمل‌های رایانه‌ای را می‌توان تحت مجوز MIT از کتاب استخراج کرد. \\ 	
لینوکس® یک علامت تجاری ثبت‌شده‌ی Trovalds Linus است.\\	
\end{center}



%  CHAPTER 1: PREFACE
\chapter{مقدمه}



% SECTION 1.1. FOREWORD
\newpage

\section{پیشگفتار}

\par
مسیر من برای یادگیری و درک بهتر لینوکس در سال ۱۹۹۸ آغاز شد. در آن زمان، اولین توزیع لینوکس را نصب کردم و به سرعت کنجکاو مفهوم کلی و فلسفه پشت لینوکس شدم.
\newline

\par
همیشه راه‌های زیادی برای انجام یک تسک وجود دارد و این قضیه برای لینوکس نیز صادق است. تعداد زیادی در طول سال‌ها وجود داشته‌اند. برخی هنوز هم وجود دارند، برخی تغییر ماهیت داده اند و برخی به تاریخ پیوسته اند. ولی همه آن‌ها برای رفع نیاز‌های مخاطب خود به صورت متفاوت طراحی شده اند. به دلیل این که راه‌های زیادی برای به ثمر رسیدن یک هدف وجود دارد، به این نتیجه رسیدم که نباید خود را محدود به یک توزیع کنم. ما قبل از کشف لینوکس مشکلاتی با مابقی سیستم‌های عامل داشتیم و چاره‌ای جز استفاده از آن‌ها نداشتیم، چه راضی بودیم چه ناراضی. با به روی کار آمدن لینوکس، مفهوم انتخاب ظهور کرد. اگر از چیزی خوشتان نمی‌آمد، آزاد بودید، یا حتی تشویق می‌شدید که آن را تغییر دهید.
\newline

\par
من تعداد زیادی از توزیع‌های لینوکس را امتحان کردم و نمی‌توانستم یکی را بین آن‌ها انتخاب کنم. هر کدام از آن‌ها ویژگی‌های منحصر به فرد خود را داشتند و این به معنی خوب یا بد بودن آن‌ها نیست، بلکه انتخاب یک توزیع لینوکس کاملا یک انتخاب سلیقه‌ای است. با وجود تعداد زیادی از توزیع‌ها، به این نتیجه رسیدم که یک توزیع خاص برای رفع تمام نیاز‌های من وجود ندارد. بنابراین تصمیم گرفتم که توزیع لینوکس خودم را پایه‌ریزی که براساس نیاز‌های من ساخته شده باشد.
\newline

\par
برای تحقق این کار باید همه چیز را خودم از صفر (سورس کد) کامپایل می‌کردم و از پکیج‌های باینری از پیش کامپایل شده استفاده نمی‌کردم. این توزیع “بی نقص” لینوکس می‌بایست شامل نقاط قوت بسیاری از سیستم‌ها می‌بود و در عوض نقاط ضعف را پوشش نمی‌داد. در ابتدا، این ایده به نسبتا دلهره آور بود ولی من به این ایده که این سیستم می‌تواند ساخته شود متعهد ماندم.
\newline

\par
پس از پشت سر گذاشتن مسائلی مانند وابستگی‌های درهم تنیده و خطا‌های زمان اجرا، بالاخره موفق به ساخت یک سیستم لینوکس شخصی‌سازی شده، شدم. در آن زمان، این توزیع، مانند هر توزیع دیگر موجود، کاملا قابل استفاده بود، ولی این سیستم، ساخته خودم بود. این موضوع که توانستم یک همچین سیستمی را پیاده سازی کنم، بسیار رضایت‌بخش بود و بهترین بخش آن، ساخت هر قطعه از نرم‌افزار توسط خودم بود.
\newline

\par
پس از به اشتراک گذاشتن اهداف و تجربه‌هایم با مابقی اعضای جامعه لینوکس، متوجه شدم که علاقه شدیدی به این ایده‌ها وجود دارد. به سرعت مشخص شد که این چنین سیستم‌های سفارشی بر پایه لینوکس نه تنها برای برآوردن نیاز‌های خاص کابران، بلکه به عنوان یک سیستم ایده‌آل برای برنامه‌نویسان و مدیران سیستم برای ارتقای مهارت‌های لینوکس (موجود) خود عمل می‌کنند. با توجه به این علاقه، پروژه لینوکس از صفر متولد شد.
\newline

\par
کتاب “لینوکس از صفر” هسته مرکزی این پروژه است. این کتاب شامل پیش‌زمینه‌ها و دستورالعمل‌های لازم برای طراحی و ساخت سیستم خود می‌شود. با وجود این که این کتاب یک قالب برای ساخت یک سیستم کاربردی را فراهم می‌کنم، شما آزاد هستید که دستورالعمل‌ها را مطابق با میل خود تغییر دهید و این بخش مهمی از این پروژه است. شما تحت کنترل می‌مانید، ما فقط به شما کمک می‌کنیم که مسیر خود را آغاز کنید.
\newline

\par
من عمیقا امیدوارم که شما زمان خوبی را در حین ساخت سیستم لینوکس از صفر خودتان سپری کنید و از مزایای بی‌شمار داشتن 
سیستمی که واقعا متعلق به خودتان است، لذت ببرید.
\newline
\newline

\begin{flushleft}

	Gerard Beekmans \\
	gerard@linuxfromscratch.org
	
\end{flushleft}



% SECTION 1.2. AUDIENCE
\newpage

\section{مخاطب}

دلایل زیادی برای خواندن این کتاب وجود دارد. یکی از سوالاتی که ممکن است مطرح شود این است که: "چرا باید سختی ساخت یک سیستم لینوکس از صفر را به جان خرید، وقتی می‌توان یکی از توزیع‌های آماده را دانلود و استفاده کرد؟"
\newline

\par
یکی از اهداف این پروژه، کمک به شما در یادگیری چگونگی عملکرد یک سیستم لینوکس از درون به بیرون است. ساخت یک لینوکس از صفر به شما در درک نحوه‌ی کارکرد لینوکس و وابستگی اجزای آن کمک می‌کند. یکی از ارزشمندترین مهارت‌هایی که در این تجربه‌ی یادگیری کسب خواهید کرد، توانایی شخصی‌سازی سیستم‌های لینوکس بر اساس نیازهای خودتان است.
\newline

\par
یکی دیگر از جنبه‌های کلیدی لینوکس از صفر این است که کنترل کامل سیستم، بدون وابستگی به یک توزیع ساخته‌شده توسط شخصی دیگر، در دستان خود شما خواهد بود. شما تمامی جنبه‌های سیستم خود را مدیریت می‌کنید.
\newline

\par
لینوکس از صفر این امکان را به شما می‌دهد که سیستم‌های لینوکس بسیار کم‌حجم و بهینه‌ای بسازید. در بیشتر توزیع‌های لینوکس، معمولاً مجبور به نصب برنامه‌هایی هستید که نه از آن‌ها استفاده می‌کنید و نه حتی آن‌ها را درک می‌کنید. این برنامه‌های اضافی منابع سیستم را هدر می‌دهند. ممکن است فکر کنید که با وجود هارددیسک‌ها و پردازنده‌های مدرن، مصرف بیش از حد منابع دیگر چندان اهمیتی ندارد. اما همچنان، در شرایطی که امکانات سخت‌افزاری محدود باشد، اندازه‌ی سیستم یک عامل تعیین‌کننده است. به دیسک‌های نوری (CD) ، حافظه‌های فلش (USB) قابل بوت و همچنین سیستم‌های توکار (Embedded) فکر کنید؛ این‌ها مواردی هستند که لینوکس از صفر در آن‌ها کارایی بالایی دارد.
\newline

\par
یکی دیگر از مزایای ساخت یک سیستم لینوکس شخصی‌سازی‌شده، امنیت است. با کامپایل کردن کل سیستم از سورس کد، شما این امکان را دارید که تمامی بخش‌ها را بررسی کرده و وصله‌های امنیتی لازم را اعمال کنید. در این حالت، نیازی به انتظار برای انتشار یک بسته‌ی باینری اصلاح‌شده از سوی شخص دیگری نخواهید داشت. حتی در این صورت هم، تا زمانی که خودتان این بسته را پیاده‌سازی نکنید، تضمینی برای رفع مشکل امنیتی وجود نخواهد داشت.
\newline

\par
هدف لینوکس از صفر، ساخت یک سیستم لینوکس کامل و کارآمد در سطح پایه است. حتی اگر قصد ندارید که سیستم لینوکس خود را بسازید، اطلاعات ارائه‌شده در این کتاب می‌توانند بسیار مفید و کاربردی باشند.
\newline

\par
دلایل زیادی برای ساخت یک سیستم لینوکس شخصی‌سازی‌شده وجود دارد و نمی‌توان همه‌ی آن‌ها را در اینجا فهرست کرد، اما در هر صورت، آموزش، مهم‌ترین دلیل است. در ادامه‌ی مسیر، متوجه قدرتی خواهید شد که اطلاعات و دانش برای شما به ارمغان می‌آورند.



% SECTION 1.3. LFS TARGET ARCHITECTURES
\newpage

\section{معماری‌های متناسب}

معماری در نظر گرفته‌شده برای پروژه‌ی لینوکس از صفر، معماری‌های x86 (۳۲ بیتی) و x86\_64 (۶۴ بیتی) موجود در پردازنده‌های AMD و Intel هستند. با این وجود، با ایجاد تغییراتی در دستورالعمل‌های این کتاب، این پروژه قابلیت اجرا بر روی پردازنده‌های PowerPC و ARM را نیز دارد. برای ساخت یک سیستم که بر روی یکی از این معماری‌های جایگزین اجرا شود، علاوه بر سایر پیش‌نیازهای ذکرشده در صفحه‌ی بعد، باید یک توزیع از پیش ساخته‌شده‌ی لینوکس مانند Ubuntu، RedHat/Fedora، SUSE یا غیره بر روی کامپیوتری با معماری مربوطه نصب باشد. (توجه داشته باشید که یک سیستم ۳۲ بیتی می‌تواند به عنوان هاست بر روی یک کامپیوتر با پردازنده‌ی ۶۴ بیتی نصب شود.)
\newline

\par
مزیت‌های ساخت یک سیستم ۶۴ بیتی نسبت به یک سیستم ۳۲ بیتی کم‌شمار هستند. به عنوان مثال، ساخت نسخه‌ی ۱.۹ لینوکس از صفر بر روی یک کامپیوتر i7-4790 Core با ۴ هسته، نتایج زیر را به ما داد:
\newline
\newline

\begin{table}[h]
	\centering
	\begin{tabular}{|c|c|c|}
		\hline
        معماری & زمان ساخت & حجم ساخت \\			
        		\hline
        ۳۲ بیت   & ۹.۲۳۹ دقیقه   & ۶.۳ گیگابایت   \\			
        ۶۴ بیت   & ۲.۲۳۳ دقیقه   & ۴.۴ گیگابایت   \\			
	        \hline
	\end{tabular}
	\caption{مقایسه زمان و حجم ساخت مابین سیستم‌های ۳۲ بیتی و ۶۴ بیتی}
\end{table}

همان‌طور که می‌بینید، بر روی یک سخت‌افزار واحد، ساخت یک سیستم ۶۴ بیتی فقط ۳٪ سریع‌تر (و ۲۲٪ حجیم‌تر) از ساخت یک سیستم ۳۲ بیتی است. اگر قصد استفاده از لینوکس از صفر به عنوان یک سرور LAMP یا یک دیوار آتش (firewall) را دارید، پردازنده‌ی ۳۲ بیتی به اندازه‌ی کافی مناسب است. در مقابل، بسیاری از بسته‌های موجود در پروژه‌ی «فراتر از لینوکس از صفر» بیش از ۴ گیگابایت RAM نیاز دارند. بنابراین، در صورتی که قصد دارید از لینوکس از صفر به عنوان یک سیستم دسکتاپ استفاده کنید، نویسندگان این کتاب پیشنهاد می‌کنند که یک سیستم ۶۴ بیتی بسازید.
\newline

\par
معماری پیش‌فرض ۶۴ بیتی لینوکس از صفر، در نهایت به شما یک سیستم لینوکس ۶۴ بیتی خالص ارائه می‌کند که تنها قادر به اجرای فایل‌های اجرایی ۶۴ بیتی خواهد بود. ساخت یک سیستم multi-lib نیازمند دوبار کامپایل کردن بسیاری از برنامه‌ها است: یک بار برای سیستم‌های ۳۲ بیتی و یک بار برای سیستم‌های ۶۴ بیتی. این موضوع به‌طور مستقیم در این کتاب گنجانده نشده است، زیرا با هدف اصلی این کتاب که «آموزش عملی و ارائه‌ی دستورالعمل‌های جزئی برای ساخت یک سیستم لینوکس» است، تداخل دارد.
\newline

\par
برخی از نویسندگان لینوکس از صفر و فراتر از لینوکس از صفر نسخه‌ای از یک سیستم multi-lib را بر پایه‌ی لینوکس از صفر ساخته‌اند که در لینک زیر قابل مشاهده است:

\begin{center}

	\url{https://www.linuxfromscratch.org/~thomas/multilib/index.html}
	
\end{center}

اما توجه داشته باشید که این مبحث بسیار پیشرفته و سطح بالا است.



% SECTION 1.4. PREREQUISITES
\newpage

\section{پیش‌نیازها}

ساخت لینوکس از صفر کار ساده‌ای نیست. این کار نیازمند آشنایی با مدیریت سیستم‌های یونیکس است تا بتوانید مشکلات را حل کرده و دستورات (commands) لیست‌شده را اجرا کنید. حداقل، شما باید با خط فرمان (shell) آشنا باشید تا بتوانید فایل‌ها و پوشه‌ها را کپی و جابه‌جا کنید، لیست فایل‌های داخل پوشه‌ها را ببینید و تغییراتی در پوشه‌ی فعلی ایجاد کنید. همچنین، فرض بر این است که شما دانش کار با یک توزیع لینوکس و نصب آن را دارید.
\newline

\par
ازآنجاکه این کتاب فرض را بر این می‌گذارد که شما این دانش‌ها را از قبل دارید، برای دریافت کمک درباره‌ی این مطالب می‌توانید از انجمن‌های لینوکس از صفر استفاده کنید. در بسیاری از موارد، سؤالات پایه‌ای از این دست بی‌پاسخ خواهند ماند (یا به "لیست مطالعه‌ی از پیش تعیین‌شده‌ی لینوکس از صفر" ارجاع داده می‌شوند).
\newline

\par
قبل از ساخت یک سیستم لینوکس از صفر، پیشنهاد می‌کنیم این مقالات را مطالعه کنید:

\begin{itemize}
	\item \textbf{چگونگی ساخت نرم‌افزار \scriptsize (Software-Building-HOWTO)}  \

	\begin{center}
		\small \url{https://tldp.org/HOWTO/Software-Building-HOWTO.html}
	\end{center}

    این مقاله یک راهنمای کاربردی برای نصب یک بسته‌ی نرم‌افزاری عمومی یونیکس تحت لینوکس است. با اینکه مدت زیادی از نگارش آن می‌گذرد، همچنان یک خلاصه‌ی مفید از تکنیک‌های پایه برای ساخت و نصب نرم‌افزار ارائه می‌دهد.
    
	\item \textbf{راهنمای پایه‌ی نصب از سورس کد \scriptsize Code) Source from Installing to Guide (Beginner’s}  
    
	\begin{center}
		\small \url{https://moi.vonos.net/linux/beginners-installing-from-source/}
	\end{center}
	
    این راهنما خلاصه‌ای کاربردی از مهارت‌ها و تکنیک‌های پایه‌ی موردنیاز برای ساخت نرم‌افزار از سورس کد را ارائه می‌دهد.
    
\end{itemize}

\end{document}
